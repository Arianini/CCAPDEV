<style>
    .post-list {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    
    .post {
        border: 1px solid #ddd;
        padding: 15px;
        margin: 10px 0;
        border-radius: 10px;
        background: #fff;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    .user-info {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .profile-pic {
        width: 40px;
        height: 40px;
        border-radius: 50%;
    }
    
    .post-image {
        width: 100%;
        max-height: 300px;
        object-fit: cover;
        margin-top: 10px;
    }
    
    .post-actions {
        display: flex;
        gap: 10px;
        margin-top: 10px;
    }
    
    .post-actions button {
        padding: 5px 10px;
        cursor: pointer;
        border: none;
        background: #f0f0f0;
        border-radius: 5px;
    }
    
    .comments {
        background: #f9f9f9;
        padding: 10px;
        border-radius: 5px;
        margin-top: 10px;
    }
</style>
<h2>{{tag}} Posts</h2>

{{#if posts.length}}
    {{#each posts}}
        <div class="post">
            <!-- User Info -->
            <div class="user-info">
                <img src="{{this.user.profilePic}}" alt="User profile" class="profile-pic">
                <span class="username">{{this.user.username}}</span>
            </div>

            <!-- Post Content -->
            <p>{{this.caption}}</p>
            {{#if this.imageUrl}}
                <img src="{{this.imageUrl}}" alt="Post image" class="post-image">
            {{/if}}

            <!-- Post Actions -->
            <div class="post-actions">
                <button onclick="likePost('{{this._id}}')">üëç {{this.likesCount}}</button>
                <button onclick="dislikePost('{{this._id}}')">üëé {{this.dislikesCount}}</button>
                <button onclick="toggleComments('{{this._id}}')">üí¨ Comments ({{this.comments.length}})</button>
            </div>

            <!-- Comments Section -->
            <div class="comments" id="comments-{{this._id}}" style="display: none;">
                {{#each this.comments}}
                    <div class="comment">
                        <strong>{{this.user}}</strong>: {{this.content}}
                    </div>
                {{/each}}
            </div>
        </div>
    {{/each}}
{{else}}
    <p>No posts found.</p>
{{/if}}
